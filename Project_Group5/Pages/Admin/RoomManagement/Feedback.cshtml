@page
@model Project_Group5.Pages.Admin.RoomManagement.FeedbackModel
@{
    ViewData["Title"] = "Feedback Management";
}
<style>
    /* Container Styling */
    body {
        font-family: Arial, sans-serif;
        background-color: #f5f5f5;
        margin: 0;
        padding: 0;
    }

    h2 {
        color: #333;
        text-align: center;
        padding: 20px;
    }

    /* Table Styling */
    .table {
        width: 90%;
        margin: 20px auto;
        border-collapse: collapse;
        background-color: #ffffff;
        border-radius: 8px;
        overflow: hidden;
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
    }

        .table thead {
            background-color: #4CAF50;
            color: #fff;
        }

            .table thead th {
                padding: 15px;
                font-weight: bold;
                text-align: left;
            }

        .table tbody tr {
            transition: background-color 0.3s;
        }

            .table tbody tr:hover {
                background-color: #f1f1f1;
            }

        .table tbody td {
            padding: 12px;
            border-bottom: 1px solid #ddd;
            text-align: left;
            color: #555;
        }

    /* Rating Stars */
    .fas.fa-star {
        color: #ffd700;
        margin-right: 2px;
    }

    /* Date Styling */
    .table tbody td:nth-child(5) {
        font-style: italic;
        color: #888;
    }

    /* Button Styling */
    .btn {
        padding: 8px 15px;
        border-radius: 4px;
        text-decoration: none;
        color: #fff;
        font-weight: bold;
        display: inline-block; /* Ensures consistent button sizing */
    }

    /* Primary Button Styling */
    .btn-primary {
        background-color: #4CAF50;
    }

        .btn-primary:hover {
            background-color: #45a049;
        }

    /* Delete Button Styling (Always Red) */
    .btn-danger {
        background-color: #f44336 !important; /* Ensure red color at all times */
        color: #fff;
        padding: 8px 15px; /* Matches the Edit button padding */
        border: none; /* Remove border for consistent size */
    }

        .btn-danger:hover {
            background-color: #d32f2f; /* Slightly darker red on hover */
        }
</style>

<h2>Feedback Management</h2>

<table class="table">
    <thead>
        <tr>
            <th>Khách hàng</th>
            <th>Loại Phòng</th>
            <th>Nội dung</th>
            <th>Đánh giá</th>
            <th>Ngày</th>
            <th>Actions</th>
        </tr>
    </thead>
    <tbody>
        @foreach (var feedback in Model.FeedbackList)
        {
            <tr>
                <td>@feedback.Customer?.Name</td>
                <td>@feedback.Room?.Roomtype?.Name</td> <!-- Display RoomType's Name -->
                <td>@feedback.Content</td>
                <td>
                    @for (int i = 0; i < feedback.Rating; i++)
                    {
                        <i class="fas fa-star text-warning"></i>
                    }
                </td>
                <td>@feedback.FeedbackDate?.ToString("dd/MM/yyyy")</td>
                <td>
                    <a asp-page="./EditFeedback" asp-route-id="@feedback.Id" class="btn btn-primary">Edit</a>
                    <form method="post" asp-page-handler="Delete" asp-route-id="@feedback.Id" style="display:inline;">
                        <button type="submit" class="btn btn-danger" onclick="return confirm('Are you sure you want to delete this feedback?');">Delete</button>
                    </form>
                </td>
            </tr>
        }
    </tbody>
</table>
